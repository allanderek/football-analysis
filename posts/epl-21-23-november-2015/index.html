<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="http://allanderek.github.io/football-analysis/posts/epl-21-23-november-2015/">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>EPL 21-23 November 2015 | Football Data Site</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://allanderek.github.io/football-analysis/posts/epl-21-23-november-2015/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="allanderek">
<link rel="prev" href="../epl-07-08-november-2015/" title="EPL 07-08 November 2015" type="text/html">
<link rel="next" href="../epl-28-29-november-2015/" title="EPL 28-29 November 2015" type="text/html">
<meta property="og:site_name" content="Football Data Site">
<meta property="og:title" content="EPL 21-23 November 2015">
<meta property="og:url" content="http://allanderek.github.io/football-analysis/posts/epl-21-23-november-2015/">
<meta property="og:description" content="EPL November 21st - 23rd 2015
Another brief look at some of the simple statistics underlying the weekend games in the English Premier League.





In [1]:

    
%matplotlib inline
import league_analys">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-11-25T10:15:36Z">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://allanderek.github.io/football-analysis/">

                <span id="blog-title">Football Data Site</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.ipynb" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">EPL 21-23 November 2015</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    allanderek
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2015-11-25T10:15:36Z" itemprop="datePublished" title="2015-11-25 10:15">2015-11-25 10:15</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/epl-21-23-november-2015.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.ipynb" id="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="epl-november-21st-23rd-2015">EPL November 21st - 23rd 2015</h2>
<p>Another brief look at some of the simple statistics underlying the weekend games in the English Premier League.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="o">%</span><span class="k">matplotlib</span> <span class="n">inline</span>
<span class="kn">import</span> <span class="nn">league_analysis</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
<span class="n">epl</span> <span class="o">=</span> <span class="n">league_analysis</span><span class="o">.</span><span class="n">epl</span>
<span class="n">weekend_matches</span> <span class="o">=</span> <span class="n">league_analysis</span><span class="o">.</span><span class="n">get_matches</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'21/11/2015'</span><span class="p">,</span> <span class="s">'23/11/2015'</span><span class="p">)</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_given_matches</span><span class="p">(</span><span class="n">weekend_matches</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Chelsea</td>
<td>Norwich</td>
</tr>
<tr>
<td>Goals</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>Shots</td>
<td>21</td>
<td>4</td>
</tr>
<tr>
<td>SOT</td>
<td>7</td>
<td>2</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Everton</td>
<td>Aston Villa</td>
</tr>
<tr>
<td>Goals</td>
<td>4</td>
<td>0</td>
</tr>
<tr>
<td>Shots</td>
<td>16</td>
<td>10</td>
</tr>
<tr>
<td>SOT</td>
<td>9</td>
<td>3</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Man City</td>
<td>Liverpool</td>
</tr>
<tr>
<td>Goals</td>
<td>1</td>
<td>4</td>
</tr>
<tr>
<td>Shots</td>
<td>11</td>
<td>14</td>
</tr>
<tr>
<td>SOT</td>
<td>3</td>
<td>9</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Newcastle</td>
<td>Leicester</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>3</td>
</tr>
<tr>
<td>Shots</td>
<td>9</td>
<td>18</td>
</tr>
<tr>
<td>SOT</td>
<td>1</td>
<td>7</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Southampton</td>
<td>Stoke</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>16</td>
<td>16</td>
</tr>
<tr>
<td>SOT</td>
<td>1</td>
<td>4</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Swansea</td>
<td>Bournemouth</td>
</tr>
<tr>
<td>Goals</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>Shots</td>
<td>11</td>
<td>16</td>
</tr>
<tr>
<td>SOT</td>
<td>4</td>
<td>4</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Watford</td>
<td>Man United</td>
</tr>
<tr>
<td>Goals</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>Shots</td>
<td>10</td>
<td>13</td>
</tr>
<tr>
<td>SOT</td>
<td>5</td>
<td>6</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>West Brom</td>
<td>Arsenal</td>
</tr>
<tr>
<td>Goals</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>4</td>
<td>11</td>
</tr>
<tr>
<td>SOT</td>
<td>1</td>
<td>3</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Tottenham</td>
<td>West Ham</td>
</tr>
<tr>
<td>Goals</td>
<td>4</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>22</td>
<td>10</td>
</tr>
<tr>
<td>SOT</td>
<td>12</td>
<td>4</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Crystal Palace</td>
<td>Sunderland</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>19</td>
<td>12</td>
</tr>
<tr>
<td>SOT</td>
<td>7</td>
<td>4</td>
</tr>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'Chelsea'</span><span class="p">,</span> <span class="s">'Norwich'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>Chelsea 1 - 0 Norwich</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Chelsea</td>
<td>Norwich</td>
</tr>
<tr>
<td>Goals</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>Shots</td>
<td>21</td>
<td>4</td>
</tr>
<tr>
<td>SOT</td>
<td>7</td>
<td>2</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Similar to their win against Aston Villa before a poor run of results, Chelsea really needed a win here. It looks as though their 1-0 victory was if anything a little unflattering. Such a performance will be encouraging, though it is still beating teams around the relegation battle rather than those they might hope to surpass into one of the four champions' league spots.</p>
<!-- TEASER_END -->
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">epl</span><span class="o">.</span><span class="n">compare_game_against_opponents</span><span class="p">(</span><span class="s">'Chelsea'</span><span class="p">,</span> <span class="s">'Norwich'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<table>
<tr>
<th>Measure</th> <th>Average Per Game for</th> <th>This game for</th> <th>Average Per Game against opponents</th>
</tr>
<tr>
<td>Chelsea Shots</td> <td>14.615384615384615</td> <td>21</td> <td>13.76923076923077</td>
</tr>
<tr>
<td>Norwich Shots</td> <td>12.846153846153847</td> <td>4</td> <td>12.23076923076923</td>
</tr>
<tr>
<td>Chelsea SOT</td> <td>4.3076923076923075</td> <td>7</td> <td>4.6923076923076925</td>
</tr>
<tr>
<td>Norwich SOT</td> <td>4.153846153846154</td> <td>2</td> <td>5.230769230769231</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So, Chelsea with 21 shots took 6 and a half shots more than usual and 7 more than the average team does against Norwich. They also only allowed 4 shots, whereas Norwich normally take nearly 13 and Chelsea normally allow over 12. Similar statistics for the shots on target. Overall then a pretty good display from the champions, even if the narrow scoreline probably had a few Chelsea fans worried about a late equaliser.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'Everton'</span><span class="p">,</span> <span class="s">'Aston Villa'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>Everton 4 - 0 Aston Villa</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Everton</td>
<td>Aston Villa</td>
</tr>
<tr>
<td>Goals</td>
<td>4</td>
<td>0</td>
</tr>
<tr>
<td>Shots</td>
<td>16</td>
<td>10</td>
</tr>
<tr>
<td>SOT</td>
<td>9</td>
<td>3</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Probably the most predictable of the results this weekend (with Tottenham's win over West Ham a good second). The scoreline looks a little harsh on Aston Villa. Worrying signs for Aston Villa, now bottom in the league for goals scored and goal difference, and not doing great on the goals conceded front either.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">pairs</span> <span class="o">=</span> <span class="p">[(</span><span class="n">stats</span><span class="o">.</span><span class="n">teamname</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">goals_for</span> <span class="o">-</span> <span class="n">stats</span><span class="o">.</span><span class="n">goals_against</span><span class="p">)</span>
         <span class="k">for</span> <span class="n">stats</span> <span class="ow">in</span> <span class="n">epl</span><span class="o">.</span><span class="n">team_stats</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_ranked_table</span><span class="p">([</span><span class="s">'Team'</span><span class="p">,</span> <span class="s">'Goal Difference'</span><span class="p">],</span> <span class="n">pairs</span><span class="p">)</span>
<span class="n">pairs</span> <span class="o">=</span> <span class="p">[(</span><span class="n">stats</span><span class="o">.</span><span class="n">teamname</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">goals_for</span><span class="p">)</span>
         <span class="k">for</span> <span class="n">stats</span> <span class="ow">in</span> <span class="n">epl</span><span class="o">.</span><span class="n">team_stats</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_ranked_table</span><span class="p">([</span><span class="s">'Team'</span><span class="p">,</span> <span class="s">'Goals For'</span><span class="p">],</span> <span class="n">pairs</span><span class="p">)</span>
<span class="n">pairs</span> <span class="o">=</span> <span class="p">[(</span><span class="n">stats</span><span class="o">.</span><span class="n">teamname</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">goals_against</span><span class="p">)</span>
         <span class="k">for</span> <span class="n">stats</span> <span class="ow">in</span> <span class="n">epl</span><span class="o">.</span><span class="n">team_stats</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_ranked_table</span><span class="p">([</span><span class="s">'Team'</span><span class="p">,</span> <span class="s">'Goals Against'</span><span class="p">],</span> <span class="n">pairs</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<table>
<tr>
<th>Position</th> <th>Team</th> <th>Goal Difference</th>
</tr>
<tr>
<td>1</td> <td>Man City</td> <td>14</td>
</tr>
<tr>
<td>2</td> <td>Tottenham</td> <td>13</td>
</tr>
<tr>
<td>3</td> <td>Arsenal</td> <td>12</td>
</tr>
<tr>
<td>4</td> <td>Man United</td> <td>10</td>
</tr>
<tr>
<td>5</td> <td>Everton</td> <td>8</td>
</tr>
<tr>
<td>-</td> <td>Leicester</td> <td>8</td>
</tr>
<tr>
<td>7</td> <td>Southampton</td> <td>5</td>
</tr>
<tr>
<td>8</td> <td>West Ham</td> <td>4</td>
</tr>
<tr>
<td>9</td> <td>Liverpool</td> <td>2</td>
</tr>
<tr>
<td>10</td> <td>Crystal Palace</td> <td>1</td>
</tr>
<tr>
<td>11</td> <td>Stoke</td> <td>-1</td>
</tr>
<tr>
<td>12</td> <td>Watford</td> <td>-2</td>
</tr>
<tr>
<td>13</td> <td>Swansea</td> <td>-4</td>
</tr>
<tr>
<td>14</td> <td>West Brom</td> <td>-5</td>
</tr>
<tr>
<td>15</td> <td>Chelsea</td> <td>-6</td>
</tr>
<tr>
<td>16</td> <td>Norwich</td> <td>-8</td>
</tr>
<tr>
<td>17</td> <td>Newcastle</td> <td>-12</td>
</tr>
<tr>
<td>-</td> <td>Sunderland</td> <td>-12</td>
</tr>
<tr>
<td>19</td> <td>Bournemouth</td> <td>-13</td>
</tr>
<tr>
<td>20</td> <td>Aston Villa</td> <td>-14</td>
</tr>
</table>
</div>

</div>

<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<table>
<tr>
<th>Position</th> <th>Team</th> <th>Goals For</th>
</tr>
<tr>
<td>1</td> <td>Leicester</td> <td>28</td>
</tr>
<tr>
<td>2</td> <td>Man City</td> <td>27</td>
</tr>
<tr>
<td>3</td> <td>West Ham</td> <td>24</td>
</tr>
<tr>
<td>-</td> <td>Tottenham</td> <td>24</td>
</tr>
<tr>
<td>-</td> <td>Everton</td> <td>24</td>
</tr>
<tr>
<td>6</td> <td>Arsenal</td> <td>23</td>
</tr>
<tr>
<td>7</td> <td>Man United</td> <td>19</td>
</tr>
<tr>
<td>-</td> <td>Southampton</td> <td>19</td>
</tr>
<tr>
<td>9</td> <td>Chelsea</td> <td>17</td>
</tr>
<tr>
<td>-</td> <td>Liverpool</td> <td>17</td>
</tr>
<tr>
<td>11</td> <td>Norwich</td> <td>16</td>
</tr>
<tr>
<td>12</td> <td>Bournemouth</td> <td>14</td>
</tr>
<tr>
<td>-</td> <td>Crystal Palace</td> <td>14</td>
</tr>
<tr>
<td>-</td> <td>Sunderland</td> <td>14</td>
</tr>
<tr>
<td>-</td> <td>Swansea</td> <td>14</td>
</tr>
<tr>
<td>16</td> <td>Newcastle</td> <td>13</td>
</tr>
<tr>
<td>17</td> <td>Watford</td> <td>12</td>
</tr>
<tr>
<td>-</td> <td>West Brom</td> <td>12</td>
</tr>
<tr>
<td>19</td> <td>Stoke</td> <td>11</td>
</tr>
<tr>
<td>20</td> <td>Aston Villa</td> <td>10</td>
</tr>
</table>
</div>

</div>

<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<table>
<tr>
<th>Position</th> <th>Team</th> <th>Goals Against</th>
</tr>
<tr>
<td>1</td> <td>Man United</td> <td>9</td>
</tr>
<tr>
<td>2</td> <td>Tottenham</td> <td>11</td>
</tr>
<tr>
<td>-</td> <td>Arsenal</td> <td>11</td>
</tr>
<tr>
<td>4</td> <td>Stoke</td> <td>12</td>
</tr>
<tr>
<td>5</td> <td>Man City</td> <td>13</td>
</tr>
<tr>
<td>-</td> <td>Crystal Palace</td> <td>13</td>
</tr>
<tr>
<td>7</td> <td>Watford</td> <td>14</td>
</tr>
<tr>
<td>-</td> <td>Southampton</td> <td>14</td>
</tr>
<tr>
<td>9</td> <td>Liverpool</td> <td>15</td>
</tr>
<tr>
<td>10</td> <td>Everton</td> <td>16</td>
</tr>
<tr>
<td>11</td> <td>West Brom</td> <td>17</td>
</tr>
<tr>
<td>12</td> <td>Swansea</td> <td>18</td>
</tr>
<tr>
<td>13</td> <td>West Ham</td> <td>20</td>
</tr>
<tr>
<td>-</td> <td>Leicester</td> <td>20</td>
</tr>
<tr>
<td>15</td> <td>Chelsea</td> <td>23</td>
</tr>
<tr>
<td>16</td> <td>Aston Villa</td> <td>24</td>
</tr>
<tr>
<td>-</td> <td>Norwich</td> <td>24</td>
</tr>
<tr>
<td>18</td> <td>Newcastle</td> <td>25</td>
</tr>
<tr>
<td>19</td> <td>Sunderland</td> <td>26</td>
</tr>
<tr>
<td>20</td> <td>Bournemouth</td> <td>27</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'Man City'</span><span class="p">,</span> <span class="s">'Liverpool'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>Man City 1 - 4 Liverpool</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Man City</td>
<td>Liverpool</td>
</tr>
<tr>
<td>Goals</td>
<td>1</td>
<td>4</td>
</tr>
<tr>
<td>Shots</td>
<td>11</td>
<td>14</td>
</tr>
<tr>
<td>SOT</td>
<td>3</td>
<td>9</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Concerning the last table this game is the reason that Manchester City were not joint top with Manchester United for goals conceded. It's hard to argue with the score line as well, with 9 shots on target Liverpool were significantly better than most teams have managed against Manchester City:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">epl</span><span class="o">.</span><span class="n">compare_game_against_opponents</span><span class="p">(</span><span class="s">'Man City'</span><span class="p">,</span> <span class="s">'Liverpool'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<table>
<tr>
<th>Measure</th> <th>Average Per Game for</th> <th>This game for</th> <th>Average Per Game against opponents</th>
</tr>
<tr>
<td>Man City Shots</td> <td>17.692307692307693</td> <td>11</td> <td>10.76923076923077</td>
</tr>
<tr>
<td>Liverpool Shots</td> <td>15.23076923076923</td> <td>14</td> <td>8.153846153846153</td>
</tr>
<tr>
<td>Man City SOT</td> <td>6.615384615384615</td> <td>3</td> <td>3.230769230769231</td>
</tr>
<tr>
<td>Liverpool SOT</td> <td>5.076923076923077</td> <td>9</td> <td>2.8461538461538463</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Restricting the home side to just 11 shots from an average of more than 17 is impressive, and done when taking 14 shots themselves. Basically Liverpool have managed to restrict Manchester City to looking like an average team that plays Liverpool (that average team usually manage 10.8 shots and 3.2 shots on target), but have done so whilst looking anything like an average team that takes on Manchester City. Even Tottenham, the other team to have beaten Man City 4-1, did not manage to out-shoot them, and were pretty fortunate to win 4-1:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_given_matches</span><span class="p">(</span><span class="n">league_analysis</span><span class="o">.</span><span class="n">get_matches_between</span><span class="p">([</span><span class="n">epl</span><span class="p">],</span> <span class="s">'Man City'</span><span class="p">,</span> <span class="s">'Tottenham'</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Tottenham</td>
<td>Man City</td>
</tr>
<tr>
<td>Goals</td>
<td>4</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>15</td>
<td>22</td>
</tr>
<tr>
<td>SOT</td>
<td>8</td>
<td>8</td>
</tr>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'Newcastle'</span><span class="p">,</span> <span class="s">'Leicester'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>Newcastle 0 - 3 Leicester</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Newcastle</td>
<td>Leicester</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>3</td>
</tr>
<tr>
<td>Shots</td>
<td>9</td>
<td>18</td>
</tr>
<tr>
<td>SOT</td>
<td>1</td>
<td>7</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And so to the new league leaders. Say what you want you about Leicester and how they might not sustain this run, but they certainly deserved their victory here. In fact the interest around Leicester's rise to the top of the table should not distract us from the danger that Newcastle find themselves. This is pretty terrible stuff, losing at home so comprehsively.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'Southampton'</span><span class="p">,</span> <span class="s">'Stoke'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>Southampton 0 - 1 Stoke</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Southampton</td>
<td>Stoke</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>16</td>
<td>16</td>
</tr>
<tr>
<td>SOT</td>
<td>1</td>
<td>4</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This was pretty surprising, Stoke have not had great numbers so far this season. Although with the influx of some talent it was a bit of a surprise that Stoke's numbers were quite as bad as they were and perhaps many expected an up-tick. Still, an excellent away victory at Southampton, all the more for having competed so well on the shot counts. This was not like the defeat of Chelsea in which they suffered something of a battering. This was a solid display (at least in terms of shot numbers).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'Swansea'</span><span class="p">,</span> <span class="s">'Bournemouth'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>Swansea 2 - 2 Bournemouth</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Swansea</td>
<td>Bournemouth</td>
</tr>
<tr>
<td>Goals</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>Shots</td>
<td>11</td>
<td>16</td>
</tr>
<tr>
<td>SOT</td>
<td>4</td>
<td>4</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Bournemouth just cannot catch a break. Though to be fair Bournemouth had a two goal lead here and probably should have held on, but an away draw is not a disaster. Still, their PDO has not been their friend, I fully expect Bournemouth to remain in the division:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">pairs</span> <span class="o">=</span> <span class="p">[(</span><span class="n">stats</span><span class="o">.</span><span class="n">teamname</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">pdo</span><span class="p">)</span>
         <span class="k">for</span> <span class="n">stats</span> <span class="ow">in</span> <span class="n">epl</span><span class="o">.</span><span class="n">team_stats</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_ranked_table</span><span class="p">([</span><span class="s">'Team'</span><span class="p">,</span> <span class="s">'PDO'</span><span class="p">],</span> <span class="n">pairs</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<table>
<tr>
<th>Position</th> <th>Team</th> <th>PDO</th>
</tr>
<tr>
<td>1</td> <td>Man United</td> <td>0.1680035650623886</td>
</tr>
<tr>
<td>2</td> <td>Everton</td> <td>0.15101838052657723</td>
</tr>
<tr>
<td>3</td> <td>West Ham</td> <td>0.134453781512605</td>
</tr>
<tr>
<td>4</td> <td>Arsenal</td> <td>0.07640344747262984</td>
</tr>
<tr>
<td>5</td> <td>Leicester</td> <td>0.06681405060181778</td>
</tr>
<tr>
<td>6</td> <td>Stoke</td> <td>0.06533776301218164</td>
</tr>
<tr>
<td>7</td> <td>Tottenham</td> <td>0.0314176245210728</td>
</tr>
<tr>
<td>8</td> <td>Watford</td> <td>0.026455026455026454</td>
</tr>
<tr>
<td>9</td> <td>West Brom</td> <td>0.017543859649122806</td>
</tr>
<tr>
<td>10</td> <td>Crystal Palace</td> <td>0.0014380212827150018</td>
</tr>
<tr>
<td>11</td> <td>Sunderland</td> <td>-0.010932105868814712</td>
</tr>
<tr>
<td>12</td> <td>Chelsea</td> <td>-0.03466386554621853</td>
</tr>
<tr>
<td>13</td> <td>Man City</td> <td>-0.037397862979258345</td>
</tr>
<tr>
<td>14</td> <td>Newcastle</td> <td>-0.059857057772483624</td>
</tr>
<tr>
<td>15</td> <td>Southampton</td> <td>-0.061969439728353115</td>
</tr>
<tr>
<td>16</td> <td>Swansea</td> <td>-0.06216931216931221</td>
</tr>
<tr>
<td>17</td> <td>Aston Villa</td> <td>-0.06409130816505704</td>
</tr>
<tr>
<td>18</td> <td>Norwich</td> <td>-0.09714632665452339</td>
</tr>
<tr>
<td>19</td> <td>Liverpool</td> <td>-0.09956709956709958</td>
</tr>
<tr>
<td>20</td> <td>Bournemouth</td> <td>-0.23153942428035046</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Just look at that number. They are minus 0.23 more than double the negative of the next worse off team Liverpool. Also worth noting here is that Leicester aren't getting an <strong>incredible</strong> amount of luck.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'Watford'</span><span class="p">,</span> <span class="s">'Man United'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>Watford 1 - 2 Man United</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Watford</td>
<td>Man United</td>
</tr>
<tr>
<td>Goals</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>Shots</td>
<td>10</td>
<td>13</td>
</tr>
<tr>
<td>SOT</td>
<td>5</td>
<td>6</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The above table showed the league leaders in PDO are Manchester United. However, we know that PDO is an imperfect measure of luck, and that Mancester United do seem to have some qualities that allow them to defy measure. A good <a href="http://statsbomb.com/2014/10/how-low-can-you-go-assorted-thoughts-about-crosses/">article at statsbomb</a> (by Marek Kwiatkowski otherwise known as statlurker), is a nice discussion of one way in which shot statistics might miss "near chances". So perhaps Manchester United create a lot of plays that do not result in shots but <em>nearly</em> a shot from a highly dangerous position. In other words a cross/pass which missed its target but had it done so would have resulted in a goal with high probability. Having watched Manchester United play this season I'm a little sceptical of that explanation (for this season).</p>
<p>Still, this was a game that Mancester United probably deserved to win, but it highlights a problem with playing in such a closed manner. You're susceptible to the vagries of chance. In other words, you're more likely to lose if you out-shoot your opponents 5-3 than you are if you out-shoot them 20-12. Since Man United should probably consider themselves favourites for most games against league opponents this season, their tactics are at least a bit questionable. But that is a topic that deserves much more than a brief look.</p>
<p>Of course I say all this despite the fact that actually Watford have managed quite a decent number of shots and shots on target against the generally miserly Man United. Watford are in danger of coming off as plucky-losers a lot, but the general signs points to a pretty decent team that <strong>should</strong> manage to remain in the league, they certainly seem better than Newcastle, Sunderland and Aston Villa.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'West Brom'</span><span class="p">,</span> <span class="s">'Arsenal'</span><span class="p">,</span> <span class="s">'21/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>West Brom 2 - 1 Arsenal</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>West Brom</td>
<td>Arsenal</td>
</tr>
<tr>
<td>Goals</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>4</td>
<td>11</td>
</tr>
<tr>
<td>SOT</td>
<td>1</td>
<td>3</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Great win for West Brom. Another defeat for Arsenal despite dominating the game for large portions. Still, Arsenal are clearly title contenders this season.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'Tottenham'</span><span class="p">,</span> <span class="s">'West Ham'</span><span class="p">,</span> <span class="s">'22/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>Tottenham 4 - 1 West Ham</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Tottenham</td>
<td>West Ham</td>
</tr>
<tr>
<td>Goals</td>
<td>4</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>22</td>
<td>10</td>
</tr>
<tr>
<td>SOT</td>
<td>12</td>
<td>4</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This was pretty predictable. Tottenham are beginning to look better and better this season. With the very lacklustre start to the campaign for the champions, a top 4 spot has looked well within Tottenham's grasp. Having seen Arsenal and City lose this weekend I suspect Spurs fans are starting to dream of a title-bid if not exactly a title. Probably a little premature for that, but still, it's been a long time since Spurs lost a league match.</p>
<p>I don't wish to harp on at West Ham, but they are still over-performing. I still think they will not manage to remain in the top half of the table.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">league_analysis</span><span class="o">.</span><span class="n">display_match</span><span class="p">(</span><span class="n">epl</span><span class="p">,</span> <span class="s">'Crystal Palace'</span><span class="p">,</span> <span class="s">'Sunderland'</span><span class="p">,</span> <span class="s">'23/11/15'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<h2>Crystal Palace 0 - 1 Sunderland</h2>
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Crystal Palace</td>
<td>Sunderland</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>19</td>
<td>12</td>
</tr>
<tr>
<td>SOT</td>
<td>7</td>
<td>4</td>
</tr>
</table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>File this one under, "Did not see that coming". However, once again the shots statistics show that Sunderland probably did not deserve this win. I say once again, because Sunderland have only won two games this season, and both have been seemingly undeserved:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">filter_fun</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">match</span><span class="o">.</span><span class="n">HomeTeam</span> <span class="o">==</span> <span class="s">'Sunderland'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'H'</span><span class="p">)</span> <span class="ow">or</span>
            <span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">AwayTeam</span> <span class="o">==</span> <span class="s">'Sunderland'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'A'</span><span class="p">))</span>

<span class="n">relevant_matches</span> <span class="o">=</span> <span class="n">league_analysis</span><span class="o">.</span><span class="n">get_all_matches</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="p">[</span><span class="n">league_analysis</span><span class="o">.</span><span class="n">year_201516</span><span class="p">],</span> <span class="n">filter_fun</span><span class="o">=</span><span class="n">filter_fun</span><span class="p">)</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_given_matches</span><span class="p">(</span><span class="n">relevant_matches</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Sunderland</td>
<td>Newcastle</td>
</tr>
<tr>
<td>Goals</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>Shots</td>
<td>9</td>
<td>21</td>
</tr>
<tr>
<td>SOT</td>
<td>3</td>
<td>8</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Crystal Palace</td>
<td>Sunderland</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>19</td>
<td>12</td>
</tr>
<tr>
<td>SOT</td>
<td>7</td>
<td>4</td>
</tr>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Worrying times, unless you're a Newcastle fan, except that:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">filter_fun</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">match</span><span class="o">.</span><span class="n">HomeTeam</span> <span class="o">==</span> <span class="s">'Newcastle'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'H'</span><span class="p">)</span> <span class="ow">or</span>
            <span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">AwayTeam</span> <span class="o">==</span> <span class="s">'Newcastle'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'A'</span><span class="p">))</span>

<span class="n">relevant_matches</span> <span class="o">=</span> <span class="n">league_analysis</span><span class="o">.</span><span class="n">get_all_matches</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="p">[</span><span class="n">league_analysis</span><span class="o">.</span><span class="n">year_201516</span><span class="p">],</span> <span class="n">filter_fun</span><span class="o">=</span><span class="n">filter_fun</span><span class="p">)</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_given_matches</span><span class="p">(</span><span class="n">relevant_matches</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Newcastle</td>
<td>Norwich</td>
</tr>
<tr>
<td>Goals</td>
<td>6</td>
<td>2</td>
</tr>
<tr>
<td>Shots</td>
<td>11</td>
<td>18</td>
</tr>
<tr>
<td>SOT</td>
<td>6</td>
<td>6</td>
</tr>
</table>
</div>
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Bournemouth</td>
<td>Newcastle</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>20</td>
<td>2</td>
</tr>
<tr>
<td>SOT</td>
<td>5</td>
<td>1</td>
</tr>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Still it could be worse, you could have only won <strong>one</strong> game, which you probably didn't deserve:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">filter_fun</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">match</span><span class="o">.</span><span class="n">HomeTeam</span> <span class="o">==</span> <span class="s">'Aston Villa'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'H'</span><span class="p">)</span> <span class="ow">or</span>
            <span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">AwayTeam</span> <span class="o">==</span> <span class="s">'Aston Villa'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'A'</span><span class="p">))</span>

<span class="n">relevant_matches</span> <span class="o">=</span> <span class="n">league_analysis</span><span class="o">.</span><span class="n">get_all_matches</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="p">[</span><span class="n">league_analysis</span><span class="o">.</span><span class="n">year_201516</span><span class="p">],</span> <span class="n">filter_fun</span><span class="o">=</span><span class="n">filter_fun</span><span class="p">)</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_given_matches</span><span class="p">(</span><span class="n">relevant_matches</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Bournemouth</td>
<td>Aston Villa</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>Shots</td>
<td>11</td>
<td>7</td>
</tr>
<tr>
<td>SOT</td>
<td>2</td>
<td>3</td>
</tr>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As I said, poor old Bournemouth.</p>
<p>Thanks for reading.</p>
</div>
</div>
</div>
    </div>
  </div>

    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../epl-07-08-november-2015/" rel="prev" title="EPL 07-08 November 2015">Previous post</a>
            </li>
            <li class="next">
                <a href="../epl-28-29-november-2015/" rel="next" title="EPL 28-29 November 2015">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="allanderek",
            disqus_url="http://allanderek.github.io/football-analysis/posts/epl-21-23-november-2015/",
        disqus_title="EPL 21-23 November 2015",
        disqus_identifier="cache/posts/epl-21-23-november-2015.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script><script type="text/x-mathjax-config">
            MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
            </script></article><script>var disqus_shortname="allanderek";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2016         <a href="mailto:allan.clark@gmail.com">allanderek</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
