<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="http://allanderek.github.io/football-analysis/posts/arsenal-west-ham-09-08-2015/">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Arsenal vs West Ham | Football Data Site</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://allanderek.github.io/football-analysis/posts/arsenal-west-ham-09-08-2015/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="allanderek">
<link rel="prev" href="../2014-2015-league-commentary/" title="2014/2015 League Commentary" type="text/html">
<link rel="next" href="../epl-first-weekend/" title="EPL First Weekend" type="text/html">
<meta property="og:site_name" content="Football Data Site">
<meta property="og:title" content="Arsenal vs West Ham">
<meta property="og:url" content="http://allanderek.github.io/football-analysis/posts/arsenal-west-ham-09-08-2015/">
<meta property="og:description" content="Arsenal vs West Ham 09/08/2015
Possibly the largest upset of the week came at the Emirates where Arsenal started their title campaign with a home loss to West Ham. A quick look at the game statistics:">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-08-11T14:22:15+01:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://allanderek.github.io/football-analysis/">

                <span id="blog-title">Football Data Site</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.ipynb" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Arsenal vs West Ham</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    allanderek
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2015-08-11T14:22:15+01:00" itemprop="datePublished" title="2015-08-11 14:22">2015-08-11 14:22</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/arsenal-west-ham-09-08-2015.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.ipynb" id="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="arsenal-vs-west-ham-09-08-2015">Arsenal vs West Ham 09/08/2015</h2>
<p>Possibly the largest upset of the week came at the Emirates where Arsenal started their title campaign with a home loss to West Ham. A quick look at the game statistics:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">league_analysis</span>
<span class="n">epl</span> <span class="o">=</span> <span class="n">league_analysis</span><span class="o">.</span><span class="n">year_201516</span><span class="o">.</span><span class="n">epl_league</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_given_matches</span><span class="p">([</span><span class="n">epl</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="s">'Arsenal'</span><span class="p">,</span> <span class="s">'West Ham'</span><span class="p">,</span> <span class="s">'09/08/15'</span><span class="p">)])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<div style="display:inline-block;">
    <table>
<tr>
<th></th>
<th>Home</th>
<th>Away</th>
</tr>
<tr>
<td>Team</td>
<td>Arsenal</td>
<td>West Ham</td>
</tr>
<tr>
<td>Goals</td>
<td>0</td>
<td>2</td>
</tr>
<tr>
<td>Shots</td>
<td>22</td>
<td>8</td>
</tr>
<tr>
<td>SOT</td>
<td>6</td>
<td>4</td>
</tr>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So Arsenal were pretty dominant in shots, 22 vs 8. They did seem to have trouble converting those shots to shots on target though. We can look at all of the matches in the leagues we have data from (Eng top four leagues and Scottish Premiership), to see how often the team that has fewer shots wins the match:</p>
<!-- TEASER_END -->
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">all_matches</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">league_analysis</span><span class="o">.</span><span class="n">get_all_matches</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="n">league_analysis</span><span class="o">.</span><span class="n">all_years</span><span class="p">))</span>
<span class="n">num_matches</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_matches</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">shots_winner_wins</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'H'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">HS</span> <span class="o">&gt;</span> <span class="n">match</span><span class="o">.</span><span class="n">AS</span><span class="p">)</span> <span class="ow">or</span>
            <span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'A'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">AS</span> <span class="o">&gt;</span> <span class="n">match</span><span class="o">.</span><span class="n">HS</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">shots_loser_wins</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'H'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">HS</span> <span class="o">&lt;</span> <span class="n">match</span><span class="o">.</span><span class="n">AS</span><span class="p">)</span> <span class="ow">or</span>
            <span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'A'</span> <span class="ow">and</span> <span class="n">match</span><span class="o">.</span><span class="n">AS</span> <span class="o">&lt;</span> <span class="n">match</span><span class="o">.</span><span class="n">HS</span><span class="p">))</span>
<span class="n">more_shots</span> <span class="o">=</span> <span class="n">league_analysis</span><span class="o">.</span><span class="n">count_matches</span><span class="p">(</span><span class="n">shots_winner_wins</span><span class="p">,</span> <span class="n">all_matches</span><span class="p">)</span>
<span class="n">fewer_shots</span> <span class="o">=</span> <span class="n">league_analysis</span><span class="o">.</span><span class="n">count_matches</span><span class="p">(</span><span class="n">shots_loser_wins</span><span class="p">,</span> <span class="n">all_matches</span><span class="p">)</span>
<span class="n">draws</span> <span class="o">=</span> <span class="n">league_analysis</span><span class="o">.</span><span class="n">count_matches</span><span class="p">(</span><span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'D'</span><span class="p">,</span> <span class="n">all_matches</span><span class="p">)</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_pairs</span><span class="p">([(</span><span class="s">'more shots'</span><span class="p">,</span> <span class="n">more_shots</span><span class="p">),</span>
                               <span class="p">(</span><span class="s">'fewer shots'</span><span class="p">,</span> <span class="n">fewer_shots</span><span class="p">),</span>
                               <span class="p">(</span><span class="s">'all wins'</span><span class="p">,</span> <span class="n">num_matches</span> <span class="o">-</span> <span class="n">draws</span><span class="p">),</span>
                               <span class="p">(</span><span class="s">'draws'</span><span class="p">,</span> <span class="n">draws</span><span class="p">),</span>
                               <span class="p">(</span><span class="s">'total number of matches'</span><span class="p">,</span> <span class="n">num_matches</span><span class="p">)])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<div style="display:inline-block;"><table>
<tr>
<td>more shots</td>
<td>4979</td>
</tr>
<tr>
<td>fewer shots</td>
<td>2982</td>
</tr>
<tr>
<td>all wins</td>
<td>8432</td>
</tr>
<tr>
<td>draws</td>
<td>3089</td>
</tr>
<tr>
<td>total number of matches</td>
<td>11521</td>
</tr>
</table></div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So, unsurprisingly, the team that takes the larger number of shots is more likely to win, but it is only a ratio of approximately 5:3 (some games the teams have equal shot numbers). So it is not <em>that</em> uncommon for a team that is out-shot to win. However, many of these games may be cases in which the difference was small, so we check on how often a team is out-shot by the margin that Arsenal out-shot West Ham by, and how often such a team loses the match:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">get_win_shots</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'H'</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">match</span><span class="o">.</span><span class="n">HS</span>
    <span class="k">elif</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'A'</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">match</span><span class="o">.</span><span class="n">AS</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
<span class="k">def</span> <span class="nf">get_lose_shots</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'H'</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">match</span><span class="o">.</span><span class="n">AS</span>
    <span class="k">elif</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'A'</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">match</span><span class="o">.</span><span class="n">HS</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">out_shot_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">out_shot_draw</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">out_shot_lose</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">all_matches</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">match</span><span class="o">.</span><span class="n">FTR</span> <span class="o">==</span> <span class="s">'D'</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">match</span><span class="o">.</span><span class="n">HS</span> <span class="o">-</span> <span class="n">match</span><span class="o">.</span><span class="n">AS</span> <span class="o">&gt;=</span> <span class="mi">14</span> <span class="ow">or</span> <span class="n">match</span><span class="o">.</span><span class="n">AS</span> <span class="o">-</span> <span class="n">match</span><span class="o">.</span><span class="n">HS</span> <span class="o">&gt;=</span> <span class="mi">14</span><span class="p">:</span>
            <span class="n">out_shot_draw</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">win_shots</span> <span class="o">=</span> <span class="n">get_win_shots</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
        <span class="n">lose_shots</span> <span class="o">=</span> <span class="n">get_lose_shots</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">win_shots</span> <span class="o">-</span> <span class="n">lose_shots</span> <span class="o">&gt;=</span> <span class="mi">14</span><span class="p">:</span>
            <span class="n">out_shot_win</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">lose_shots</span> <span class="o">-</span> <span class="n">win_shots</span> <span class="o">&gt;=</span> <span class="mi">14</span><span class="p">:</span>
            <span class="n">out_shot_lose</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">all_out_shots</span> <span class="o">=</span> <span class="n">out_shot_win</span> <span class="o">+</span> <span class="n">out_shot_draw</span> <span class="o">+</span> <span class="n">out_shot_lose</span>
<span class="n">league_analysis</span><span class="o">.</span><span class="n">display_pairs</span><span class="p">([(</span><span class="s">'A team wins shots by 14 or more'</span><span class="p">,</span> <span class="n">all_out_shots</span><span class="p">),</span>
                               <span class="p">(</span><span class="s">'Won shots by 14 but lost'</span><span class="p">,</span> <span class="n">out_shot_lose</span><span class="p">),</span>
                               <span class="p">(</span><span class="s">'Won shots by 14 and won'</span><span class="p">,</span> <span class="n">out_shot_win</span><span class="p">),</span>
                               <span class="p">(</span><span class="s">'Won shots by 14 but draw'</span><span class="p">,</span> <span class="n">out_shot_draw</span><span class="p">)])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<div style="display:inline-block;"><table>
<tr>
<td>A team wins shots by 14 or more</td>
<td>675</td>
</tr>
<tr>
<td>Won shots by 14 but lost</td>
<td>118</td>
</tr>
<tr>
<td>Won shots by 14 and won</td>
<td>416</td>
</tr>
<tr>
<td>Won shots by 14 but draw</td>
<td>141</td>
</tr>
</table></div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So in only 675 of the 11521 games did one team out-shoot the other by 14 shots or more. In 118 of those cases did the team that took the most shots actually lose the game. By contrast there are 416 games in which such a dominant shots team wins the game. I'm a little surprised there are not a larger number of dominant displays where a team really bosses the shots <em>and</em> wins the game. Similarly to the teams that win the shots battle at all, when a team wins the shots battle by as much as Arsenal did at the weekend, they are favourites to win the game, the ratio of wins to losses is only approximately 4:1. Good, but not guaranteed.</p>
<p>To be clear, I'm not terribly surprised by the 118 number. When a significantly superior team finds themselves behind in a game they tend to ramp up their urgency and hence shots. So it is not surprising to find the odd game in which such a team just does not find away to score. The 118 number represents less than 1% of the games.</p>
<p>I am surprised that less 4% of games result in a team bossing the shots by 14 or more and reaping the benefits of this. I guess this demonstrates that once a team obtains a lead (or possibly a comfortable lead) they don't have much adventure about them. Or perhaps they pass up shooting opportunities in the hope of cultivating better chances, whilst hopefully whittling down the clock.</p>
<p>This might tell us something about score-effects. That is, that score effects are rather important.</p>
</div>
</div>
</div>
    </div>
  </div>

    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../2014-2015-league-commentary/" rel="prev" title="2014/2015 League Commentary">Previous post</a>
            </li>
            <li class="next">
                <a href="../epl-first-weekend/" rel="next" title="EPL First Weekend">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="allanderek",
            disqus_url="http://allanderek.github.io/football-analysis/posts/arsenal-west-ham-09-08-2015/",
        disqus_title="Arsenal vs West Ham",
        disqus_identifier="cache/posts/arsenal-west-ham-09-08-2015.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script><script type="text/x-mathjax-config">
            MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
            </script></article><script>var disqus_shortname="allanderek";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2015         <a href="mailto:allan.clark@gmail.com">allanderek</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
